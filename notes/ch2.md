# Progamming a Guessing Game

## 准备一个新项目
和之前的hello_cargo项目的流程相同。


## 处理一次猜测

请求和处理用户输入，并检查输入是否符合预期的格式。

#### 1、使用变量存储值
- let语句用来创建variable
- Rust中默认变量不可变
- 通过在let后面增加mut，可以使变量可变，
- String::new()函数返回一个String的新实例
- String是标准库提供的字符串类型，UTF-8编码的可增长文本块
- 其中::语法表明，new是String类型的一个关联函数，它创建了一个新的空字符串
- 如果程序开头没有use std::io，则下面也可以写成std::io::stdin
- read_line函数的功能是将用户在标准输入中的键入内容，存入一个字符串中
- &符号表示这是一个引用。它允许多处代码访问同一处数据，而无需在内存中多次拷贝。


#### 2、使用Result类型来处理潜在的错误

- Result类型是枚举(enums)，其枚举成员包括Ok和Err
- Ok表示操作成功，内部包含成功时产生的值
- Err表示操作失败，并且包含失败的前因后果
- expect方法的调用就是错误信息处理

#### 3、使用println!占位符打印值
- 花括号{ }是占位符
- 可以在一条语句中，使用多个占位符，依次使用后续的参数填充

#### 4、测试第一部分代码


## 生成一个秘密数字

#### 1、使用crate来增加更多功能
- crate是一个Rust代码包
- 我们构建的项目是一个二进制crate，它生成一个可执行文件
- rand crate是一个库crate
- 库crate可以包含任意能被其他程序使用的代码
- 使用库crate时，要修改Cargo.toml文件中的dependencies，引入依赖
- dependencies告诉cargo本项目使用了哪些外部crate及其版本
- Cargo.lock文件确保构建是可重现的（第一次构建项目完成后，后续构建时将使用其中指定的版本，不再再次计算全部的版本）
- 可以用cargo update命令来更新当前版本（但是大版本不更新，只更新小版本）
    - e.g. 可以从0.5.5更新到0.5.6版本
    - 但不能从0.5.5更新到0.6.x版本
    - 如果想要从0.5.5更新到0.6.x版本，需要在dependencies里面改写为
    ```rust
    [dependencies]
    rand = "0.6.0"
    ```

- 可以用以下命令行来查看已装备的crate库的各个函数功能
```
cargo doc --open
```



#### 2、生成一个随机数

- Rng是一个trait，它定义了随机数生成器应实现的方法，想使用这些方法的话，trait必须在其作用域中（详见ch10）
- 函数rand::thread_rng是实际的随机数生成器，从操作系统中获取seed
- 调用gen_range方法，生成一个在范围内的随机数（包含下界，不含上界）


## 比较猜测的数字和秘密数字

## 使用循环来允许多次猜测

#### 1、猜测正确后退出

#### 2、处理无效输入


